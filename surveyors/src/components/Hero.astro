---
import { Image } from 'astro:assets';
import fallbackImage from '../assets/fallback-hero.jpg';

let heroImage;
try {
  heroImage = (await import('../assets/hero-image.jpg')).default;
} catch (e) {
  console.warn('Hero image not found, using fallback image');
  heroImage = fallbackImage;
}
---

<section class="relative h-screen overflow-hidden bg-hr-dark">
  <div class="absolute inset-0 bg-gradient-to-br from-hr-dark via-hr-dark to-hr-accent opacity-20"></div>
  
  <div class="container mx-auto h-full flex items-center relative z-10">
    <div class="w-full lg:w-3/5 text-content pr-8 lg:pr-0">
      <h1 class="text-6xl lg:text-8xl font-bold text-white leading-tight mb-6 transform -skew-x-6 animate-fade-in-up">
        Precision<br/>
        Engineering<br/>
        <span class="text-hr-accent">Redefined</span>
      </h1>
      <p class="text-xl text-gray-300 mb-8 max-w-xl animate-fade-in-up animation-delay-300">
        Delivering cutting-edge survey solutions since 2012, shaping the future of infrastructure one project at a time.
      </p>
      <div class="flex space-x-4 animate-fade-in-up animation-delay-600">
        <a href="/contact" class="bg-hr-accent text-hr-dark px-8 py-4 rounded-full font-bold hover:bg-white transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg">
          Start Your Project â†’
        </a>
        <a href="/services" class="bg-transparent border-2 border-white text-white px-8 py-4 rounded-full font-bold hover:bg-white hover:text-hr-dark transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg">
          Our Services
        </a>
      </div>
    </div>
  </div>

  <div class="absolute top-0 right-0 w-full lg:w-3/5 h-full overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-l from-transparent to-hr-dark opacity-50 z-10"></div>
    <div class="clip-container h-full w-full animate-fade-in-up animation-delay-900">
      <Image
        src={heroImage}
        alt="Engineering survey site"
        class="object-cover object-center w-full h-full"
        width={1200}
        height={800}
      />
    </div>
  </div>
</section>

<style>
  .clip-container {
    clip-path: polygon(20% 0%, 100% 0%, 100% 100%, 0% 100%);
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  .text-content {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }

  .animation-delay-300 {
    animation-delay: 300ms;
  }

  .animation-delay-600 {
    animation-delay: 600ms;
  }

  .animation-delay-900 {
    animation-delay: 900ms;
  }
</style>