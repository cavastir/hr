---
import Layout from '../layouts/Layout.astro';
import Icon from '../components/Icon.astro';
import { fade } from 'astro:transitions';

const mainServices = [
  {
    title: "Building and Construction",
    icon: "cube",
    description: "With extensive experience in the building and construction sector, we deliver high-precision surveys for apartment complexes, high-rise buildings, schools, and residential projects. Understanding that each project is unique, we tailor our services to meet the specific needs of every client. From initial site datum setup to final as-constructed surveys, our team ensures accurate data and seamless execution, giving you the confidence to complete your project on time and within budget."
  },
  {
    title: "Civil Construction",
    icon: "ruler",
    description: "From road upgrades and subdivisions to bridges, pipelines, and rail projects, HR Surveyors offers the expertise required for your civil construction needs. Our services include control network setup, on-site set out and pickups, volume calculations, 3D modeling, and final as-built surveys. Whether you need a dedicated team of surveyors to manage your project or a one-time visit to set up, we deliver the same high-quality, reliable service every time."
  },
  {
    title: "Infrastructure & Mining",
    icon: "globe",
    description: "With extensive experience in some of Australia's largest infrastructure and regional mining projects, we have the systems in place to efficiently manage your major undertaking, whether in urban or rural settings. From submitting conformance reports to handling RFIs and managing data, we ensure that all records are current, facilitating seamless project execution and on-time handover. Our highly skilled surveyors offer expert advice and reliable service, giving you the confidence you need throughout the entire project lifecycle."
  },
  {
    title: "Feature and Level Survey",
    icon: "layers",
    description: "A Feature and Level survey is a crucial step in the planning of any development project, whether for a new building, subdivision, or major construction endeavor. This type of survey provides essential data that forms the foundation for accurate design before construction begins. By establishing precise survey control to a local datum or MGA/AHD from the outset, we ensure continuity and adherence to standards throughout every aspect of the development process."
  },
  {
    title: "Laser Scanning",
    icon: "scanLine",
    description: "We utilize advanced 3D laser scanning technology to capture highly accurate spatial data of structures and environments. This non-invasive method generates detailed digital models, providing essential information for applications in architecture, construction, and heritage preservation. By rapidly gathering millions of data points, our service streamlines project planning, design, and analysis. The resulting point clouds and 3D models integrate seamlessly with various software applications, enhancing collaboration and decision-making. Trust our experienced team to deliver high-quality results tailored to your project needs."
  },
  {
    title: "UAV (Drone Survey)",
    icon: "airplane",
    description: "Our UAV (Drone Survey) service utilizes cutting-edge drone technology to deliver accurate and efficient aerial mapping and imagery for various applications. This innovative approach enables us to capture high-resolution images and videos, providing essential data for informed decision-making across multiple industries. We specialize in creating detailed topographical plans, conducting stockpile volume calculations, and developing comprehensive 3D digital terrain models. Our skilled team ensures data quality and precision, facilitating informed decision-making and effective project management."
  }
];

const secondaryServices = [
  {
    title: "Specification Surveys (A-SPEC & ADAC)",
    icon: "specification",
    description: "Upon completion of new infrastructure works, councils require A-SPEC or ADAC as-constructed data to transfer asset information into their corporate systems. These standards ensure consistency and accuracy in the documentation of various infrastructure assets, including drainage systems, roadways, footpaths, parks, and utility networks. At HR Surveyors, we have the expertise and capabilities to produce precise GIS as-constructed data that meets all council requirements, facilitating seamless integration into local asset management systems."
  },
  {
    title: "Point Clouds",
    icon: "point-cloud",
    description: "At HR Surveyors, we leverage the latest advancements in scanning technologies to deliver cutting-edge survey solutions for our clients. By utilizing comprehensive 3D scanning techniques and specialized software, we tailor our services to meet the unique needs and budget of your project. We can generate detailed point clouds and produce accurate files, ensuring you receive high-quality data to support your project's success."
  },
  {
    title: "Machine Control (3D Models & Design)",
    icon: "3d-model",
    description: "Our expertise in 3D surfaces enables us to create highly accurate design surface files tailored to your project's specific requirements. Whether it's converting machine control files and localizations, developing comprehensive Digital Terrain Models (DTM), or designing intricate 3D drainage systems, we have the skills to fulfill our clients' needs. We collaborate closely with you during the design process, producing detailed construction drawings and 3D models that enhance project clarity and execution."
  },
  {
    title: "Equipment Hire",
    icon: "equipment",
    description: "We offer a diverse range of high-quality surveying equipment for hire, including GPS base and rover or network systems, Total Stations, and all essential surveying tools for both short- and long-term projects. Our experienced team provides tailored solutions and expert support to help you choose the right equipment for your needs. Whether you're undertaking a road construction project, conducting earthworks for landscaping, or performing precise set-out tasks, our reliable equipment and dedicated service ensure you achieve your project goals efficiently and effectively."
  }
];
---

<Layout 
  title="Our Services | HR Surveyors"
  description="Explore the comprehensive range of surveying services offered by HR Surveyors. From building and construction to infrastructure and 3D scanning solutions."
>
  <main class="bg-hr-dark text-white">
    <section class="py-20">
      <div class="container mx-auto px-4 max-w-6xl">
        <h1 transition:animate={fade({ duration: '0.5s' })} class="text-6xl lg:text-7xl font-bold mb-8 text-hr-accent text-center">Our Services</h1>
        <p class="text-xl mb-16 leading-relaxed text-center max-w-3xl mx-auto">
          At HR Surveyors, we offer a comprehensive range of surveying services to meet all your project needs. Our expert team utilizes cutting-edge technology and years of experience to deliver precise, reliable results.
        </p>
        
        <h2 class="text-4xl font-bold mb-12 text-hr-accent text-center">Main Services</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-20">
          {mainServices.map((service, index) => (
            <div class="bg-hr-dark-lighter rounded-lg p-6 shadow-lg transition-all duration-300 hover:shadow-xl flex flex-col h-64">
              <Icon name={service.icon} class="w-12 h-12 mb-4 text-hr-accent" />
              <h3 class="text-xl font-semibold mb-2">{service.title}</h3>
              <p class="text-gray-300 text-sm line-clamp-3 mb-2">{service.description}</p>
              <button 
                class="text-hr-accent hover:underline mt-auto self-start text-sm"
                onclick={`showDetails(${index}, 'main')`}
              >
                ... Learn more
              </button>
            </div>
          ))}
        </div>

        <h2 class="text-3xl font-bold mb-12 text-hr-accent text-center">Additional Services</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-20">
          {secondaryServices.map((service, index) => (
            <div class="bg-hr-dark-lighter rounded-lg p-6 shadow-lg transition-all duration-300 hover:shadow-xl flex flex-col h-64">
              <Icon name={service.icon} class="w-10 h-10 mb-3 text-hr-accent" />
              <h3 class="text-xl font-semibold mb-2">{service.title}</h3>
              <p class="text-gray-300 text-sm line-clamp-3 mb-2">{service.description}</p>
              <button 
                class="text-hr-accent hover:underline mt-auto self-start text-sm"
                onclick={`showDetails(${index}, 'secondary')`}
              >
                ... Learn more
              </button>
            </div>
          ))}
        </div>

        <div class="bg-hr-accent text-hr-dark py-16 px-4 rounded-lg mb-20">
          <h2 class="text-4xl font-bold mb-6 text-center">Ready to start your project?</h2>
          <p class="text-xl mb-8 text-center max-w-3xl mx-auto">
            Our team of experts is ready to assist you with all your surveying needs. Get in touch today for a consultation.
          </p>
          <div class="text-center">
            <a href="/contact" class="bg-hr-dark text-white px-10 py-4 rounded-full font-semibold text-lg hover:bg-opacity-90 transition-all duration-300 inline-flex items-center space-x-2 group shadow-lg hover:shadow-xl">
              <span>Contact Us</span>
              <span class="group-hover:translate-x-1 transition-transform">â†’</span>
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Overlay for service details -->
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
    <div class="bg-hr-dark-lighter p-8 rounded-lg max-w-2xl w-full mx-4 relative overflow-y-auto max-h-[90vh]">
      <button id="closeOverlay" class="absolute top-4 right-4 text-hr-accent hover:text-hr-accent-light">&times;</button>
      <h3 id="overlayTitle" class="text-3xl font-semibold mb-4 text-hr-accent"></h3>
      <p id="overlayDescription" class="text-gray-300"></p>
    </div>
  </div>
</Layout>

<script define:vars={{ mainServices, secondaryServices }}>
  function showDetails(index: number, type: 'main' | 'secondary'): void {
    const services = type === 'main' ? mainServices : secondaryServices;
    const service = services[index];
    
    const overlayTitle = document.getElementById('overlayTitle');
    const overlayDescription = document.getElementById('overlayDescription');
    const overlay = document.getElementById('overlay');

    if (overlayTitle && overlayDescription && overlay) {
      overlayTitle.textContent = service.title;
      overlayDescription.textContent = service.description;
      overlay.classList.remove('hidden');
    }
  }

  const closeOverlay = document.getElementById('closeOverlay');
  const overlay = document.getElementById('overlay');

  if (closeOverlay) {
    closeOverlay.addEventListener('click', () => {
      overlay?.classList.add('hidden');
    });
  }

  if (overlay) {
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) {
        overlay.classList.add('hidden');
      }
    });
  }

  // Make showDetails available globally
  (window as any).showDetails = showDetails;
</script>

<style>
  .fade-in {
    animation: fadeIn 0.5s ease-in;
  }
  
  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
</style>